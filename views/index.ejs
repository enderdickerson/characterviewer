<!DOCTYPE html>
<html ng-app="tcgApp">
  <head>
    <title><%= title %></title>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />

    <link rel='stylesheet' href='/javascripts/angular-material/angular-material.css' />
    <link rel='stylesheet' href='/stylesheets/site.css' />
    <base href="/">
  </head>
  <body layout="column" ng-controller="AppCtrl">
    <md-toolbar layout="row">
      <div class="md-toolbar-tools">
        <md-button ng-click="toggleLeft()" class="md-icon-button">
          <md-icon aria-label="Menu" class="material-icons">menu</md-icon>
        </md-button>
        <h1 id="app_title" class="nd-accent" ui-sref="landing">TCG</h1>
        <h1>{{ $state.current.data.pageTitle || '' }}</h1>
        <span flex></span>
        <md-button ng-show="!AuthToken.isLoggedIn()" class="md-accent" ui-sref="register">
          register
        </md-button>
      </div>
    </md-toolbar>
    <div layout="row" flex>
      <md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left">
        <md-toolbar class="md-hue-3">
          <div layout layout="column">
            <!-- <h1 class="md-toolbar-tools" hide-gt-md>TCG</h1> -->
            <!-- <md-icon ng-show="AuthToken.isLoggedIn()" class="md-toolbar-tools material-icons secondary-text">person</md-icon> -->
            <h3 ng-show="AuthToken.isLoggedIn()" class="md-toolbar-tools">
                {{ AuthToken.currentUser() }}
            </h3>
            <md-button ng-show="AuthToken.isLoggedIn()" ng-click="AuthToken.logout()" class="md-primary md-toolbar-tools">logout</md-button>
            <md-button ng-show="!AuthToken.isLoggedIn()" ng-click="showLogin()" class="md-primary md-toolbar-tools">
              login
            </md-button>
            <!-- <md-button ng-show="!AuthToken.isLoggedIn()" ng-click="toggleLeft()" class="md-primary md-toolbar-tools" ui-sref="register">
              register
            </md-button> -->
            <!-- <a ng-show="!AuthToken.isLoggedIn()" class="secondary-text" ui-sref="login">login</a>
            <a ng-show="!AuthToken.isLoggedIn()" class="secondary-text" ui-sref="register">register</a> -->
          </div>
        </md-toolbar>
        <md-button class="sidenav-link" ui-sref="admin" ui-sref-active='active'>
          <div class="inset">
            <md-icon>build</md-icon>
            <span class="text">Admin</span>
          </div>
        </md-button>
      </md-sidenav>
      <div layout="column" flex id="content">
        <md-content layout="column" flex class="md-padding">
          <div ui-view></div>
        </md-content>
      </div>
    </div>

    <!-- bower:js -->
    <script src='javascripts/angular/angular.js'></script>
    <script src='javascripts/angular-animate/angular-animate.js'></script>
    <script src='javascripts/angular-aria/angular-aria.js'></script>
    <script src='javascripts/angular-material/angular-material.js'></script>
    <script src='javascripts/angular-messages/angular-messages.js'></script>
    <script src='javascripts/angular-ui-router/release/angular-ui-router.js'></script>
    <!-- endbower -->

    <!--<script src='/javascripts/angular/angular.js'></script>
    <script src='/javascripts/angular-animate/angular-animate.js'></script>
    <script src='/javascripts/angular-aria/angular-aria.js'> </script>
    <script src='/javascripts/angular-material/angular-material.js'></script>
    <script src='/javascripts/angular-ui-router/release/angular-ui-router.js'></script>-->
    <script src='/javascripts/app/game.js'></script>
    <script src='/javascripts/app/controllers/appctrl.js'></script>
    <script src='/javascripts/app/controllers/cardctrl.js'></script>
    <script src='/javascripts/app/controllers/abilityctrl.js'></script>
    <script src='/javascripts/app/controllers/adminctrl.js'></script>
    <script src='/javascripts/app/controllers/cardlistctrl.js'></script>
    <script src='/javascripts/app/controllers/abilitylistctrl.js'></script>
    <script src='/javascripts/app/controllers/authctrl.js'></script>
    <script src='/javascripts/app/services/cardservice.js'></script>
    <script src='/javascripts/app/services/abilityservice.js'></script>
    <script src='/javascripts/app/services/authservice.js'></script>
    <script src='/javascripts/app/services/authtoken.js'></script>
    <script src='/javascripts/app/services/authinterceptor.js'></script>
    <script src='/javascripts/app/services/utils.js'></script>
    <script src='/javascripts/app/services/_events.js'></script>
    <script src='/javascripts/app/app.js'></script>
  </body>
</html>
